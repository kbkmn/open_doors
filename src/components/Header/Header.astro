---
import { cn } from "@/utils/classname"
import LanguageSwitch from "./components/LanguageSwitch.astro"

import logoPng from "@/assets/logo.png"
---

<header
  class="sticky top-0 z-50 bg-white p-4 text-sm font-medium sm:px-16 md:static md:bg-transparent md:pb-6 md:pt-8"
>
  <div
    class="mx-auto flex w-full max-w-content flex-wrap items-center justify-between gap-4"
  >
    <div class="flex items-center gap-4 md:gap-[1.625rem]">
      <div class="w-[3.875rem] md:w-[8.25rem]">
        <img
          src={logoPng.src}
          alt=""
          class="object-contain"
        />
      </div>

      <div
        class="flex flex-col gap-1 text-[0.5rem] leading-[0.875rem] text-black md:text-[0.75rem]"
      >
        <div>Russian Scholarship Project</div>

        <div>Association &quot;Global Universities&quot;</div>
      </div>
    </div>

    <div>
      <button
        id="hamburger"
        class="group peer flex h-[2.25rem] w-[2.25rem] items-center justify-center md:hidden"
      >
        <svg
          width="28"
          height="18"
          viewBox="0 0 28 18"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          class="group-data-[active='true']:hidden"
        >
          <rect
            width="28"
            height="2"
            rx="1"
            fill="#2D2D37"
          ></rect>
          <rect
            y="8"
            width="28"
            height="2"
            rx="1"
            fill="#2D2D37"
          ></rect>
          <rect
            y="16"
            width="28"
            height="2"
            rx="1"
            fill="#2D2D37"
          ></rect>
        </svg>

        <svg
          width="19"
          height="19"
          viewBox="0 0 19 19"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          class="hidden group-data-[active='true']:inline-block"
        >
          <path
            d="M11.1744 9.49899L18.651 2.03423C18.8745 1.81075 19 1.50766 19 1.19162C19 0.875585 18.8745 0.572491 18.651 0.349018C18.4275 0.125546 18.1244 0 17.8084 0C17.4923 0 17.1892 0.125546 16.9658 0.349018L9.50101 7.82565L2.03625 0.349018C1.81278 0.125546 1.50969 2.80593e-07 1.19365 2.82947e-07C0.87761 2.85302e-07 0.574516 0.125546 0.351043 0.349018C0.127571 0.572491 0.00202562 0.875585 0.00202562 1.19162C0.00202562 1.50766 0.127571 1.81075 0.351043 2.03423L7.82767 9.49899L0.351043 16.9637C0.23981 17.0741 0.151521 17.2053 0.0912708 17.35C0.0310203 17.4946 0 17.6497 0 17.8064C0 17.963 0.0310203 18.1181 0.0912708 18.2628C0.151521 18.4074 0.23981 18.5386 0.351043 18.649C0.461369 18.7602 0.592626 18.8485 0.737245 18.9087C0.881863 18.969 1.03698 19 1.19365 19C1.35031 19 1.50543 18.969 1.65005 18.9087C1.79467 18.8485 1.92593 18.7602 2.03625 18.649L9.50101 11.1723L16.9658 18.649C17.0761 18.7602 17.2074 18.8485 17.352 18.9087C17.4966 18.969 17.6517 19 17.8084 19C17.965 19 18.1202 18.969 18.2648 18.9087C18.4094 18.8485 18.5407 18.7602 18.651 18.649C18.7622 18.5386 18.8505 18.4074 18.9108 18.2628C18.971 18.1181 19.002 17.963 19.002 17.8064C19.002 17.6497 18.971 17.4946 18.9108 17.35C18.8505 17.2053 18.7622 17.0741 18.651 16.9637L11.1744 9.49899Z"
            fill="#151515"
          ></path>
        </svg>
      </button>

      <nav
        class="absolute left-0 top-full z-50 hidden h-[calc(100vh_-_4.375rem)] w-full grow flex-col gap-[1rem_4rem] whitespace-nowrap bg-white px-6 py-8 text-[0.875rem] font-semibold uppercase peer-data-[active='true']:flex md:static md:flex md:h-auto md:flex-row md:flex-wrap md:justify-end md:bg-transparent md:p-0 md:text-[0.75rem]"
      >
        <ul
          class="flex grow flex-col gap-8 md:flex-row md:flex-wrap md:justify-end md:gap-[0.5rem_1.5rem]"
        >
          {
            [
              { title: "News", href: "/news" },
              { title: "About", href: "/about" },
              { title: "Rules", href: "#rules" },
              { title: "Universities", href: "#universities" },
              { title: "Tracks", href: "#tracks" },
              { title: "Subjects", href: "#subjects" },
              { title: "FAQ", href: "#faq" },
            ].map(({ title, href }) => (
              <li>
                <a
                  href={href}
                  title={title}
                  class={cn(
                    "hover:text-blue",
                    Astro.url.pathname.startsWith(href) && "text-blue"
                  )}
                >
                  {title}
                </a>
              </li>
            ))
          }
        </ul>

        <div class="flex shrink justify-between gap-[1rem_4rem]">
          <LanguageSwitch />

          <ul class="flex gap-6">
            <li>
              <a
                href="#!"
                title="Sing in"
                class="hover:text-blue"
              >
                Sign in
              </a>
            </li>

            <li>
              <a
                href="#!"
                title="Sign up"
                class="text-pink hover:text-blue"
              >
                Sign up
              </a>
            </li>
          </ul>
        </div>

        <div class="absolute right-4 top-8 flex flex-col gap-1 md:hidden">
          <a
            href="#!"
            title=""
            target="_blank"
            class="flex h-12 w-12 items-center justify-center transition-opacity hover:opacity-50"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="29"
              height="16"
              fill="none"
            >
              <path
                fill="#2D2D37"
                fill-rule="evenodd"
                d="M27.69 1.07c.2-.63 0-1.07-.92-1.07h-3.06c-.8 0-1.14.4-1.34.84 0 0-1.55 3.67-3.76 6.02-.73.7-1.03.9-1.43.9-.2 0-.48-.2-.48-.83V1.07c0-.75-.22-1.07-.87-1.07H11c-.48 0-.78.36-.78.67 0 .72 1.09.89 1.22 2.87v4.33c0 .95-.17 1.12-.57 1.12-1.03 0-3.57-3.66-5.05-7.87C5.52.34 5.23 0 4.45 0H1.38C.51 0 .33.4.33.84c0 .78 1.03 4.65 4.84 9.77 2.54 3.5 6.1 5.39 9.34 5.39 1.95 0 2.2-.42 2.2-1.14v-2.65c0-.84.17-1.01.8-1.01.46 0 1.23.21 3.04 1.9 2.08 2 2.43 2.9 3.6 2.9h3.06c.87 0 1.31-.42 1.05-1.24-.29-.82-1.27-2.02-2.58-3.45-.73-.83-1.8-1.69-2.1-2.13-.47-.57-.33-.82 0-1.3 0-.03 3.74-5.08 4.1-6.8Z"
                clip-rule="evenodd"
              ></path>
            </svg>
          </a>

          <a
            href="#!"
            title=""
            target="_blank"
            class="flex h-12 w-12 items-center justify-center transition-opacity hover:opacity-50"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="22"
              fill="none"
            >
              <path
                fill="#2D2D37"
                d="m.42 10.25 5.47 2.04 2.12 6.81c.14.44.67.6 1.02.31l3.05-2.49a.91.91 0 0 1 1.11-.03l5.5 4c.38.27.92.07 1.02-.4l4.03-19.38a.65.65 0 0 0-.87-.73L.41 9.04a.65.65 0 0 0 0 1.2Zm7.25.95 10.7-6.58c.19-.12.38.14.22.3l-8.83 8.2c-.3.29-.5.67-.56 1.1l-.3 2.22c-.05.3-.46.33-.55.04L7.2 12.42c-.13-.47.06-.96.47-1.22Z"
              ></path>
            </svg>
          </a>
        </div>
      </nav>
    </div>
  </div>
</header>

<script>
  const hamburger = document.getElementById("hamburger")

  hamburger?.addEventListener("click", () => {
    const active = hamburger.dataset.active === "true"

    if (active) {
      delete hamburger.dataset.active
    } else {
      hamburger.dataset.active = "true"
    }
  })
</script>
