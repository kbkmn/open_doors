---
import Wrapper from "@/components/Block/Wrapper.astro"
import Header from "@/components/Block/Header.astro"
import Controls from "@/components/Controls.astro"
import Bullets from "@/components/Bullets.astro"

import { DATA } from "./data"
---

<Wrapper
  id="news"
  class="glide px-0 sm:px-0"
  gap={24}
>
  <div class="px-4 sm:px-16">
    <div class="mx-auto flex w-full max-w-content items-center gap-8">
      <Header>Latest news</Header>

      <Controls />
    </div>
  </div>

  <Bullets number={DATA.length} />

  <div
    class="glide__track mt-6 overflow-clip md:mt-[2.125rem]"
    data-glide-el="track"
  >
    <ul class="glide__slides flex md:pl-[calc((100vw_-_81.5rem)_/_2)]">
      {
        DATA.map(({ date, title, content }, idx) => (
          <li class="glide__slide w-[calc(100vw_-_2rem)] shrink-0 px-4 md:w-[33rem] md:px-0">
            <a
              href="#!"
              title=""
              class="group flex h-full select-none flex-col gap-8 rounded-2xl bg-white fill-gray-light p-8 transition-colors transition-opacity hover:fill-blue md:gap-11"
            >
              <div class="flex grow flex-col gap-4 md:gap-[1.125rem]">
                <div class="flex flex-col gap-4">
                  <div class="text-[0.75rem] font-medium leading-7 text-mid-gray md:text-[1rem]">
                    {date}
                  </div>

                  <h2 class="text-[1.125rem] font-bold leading-[1.625rem] transition-colors group-hover:text-blue md:text-[1.5rem] md:leading-9">
                    {title}
                  </h2>
                </div>

                <div class="text-[0.875rem] font-medium leading-[1.5rem] md:text-[1rem] md:leading-7">
                  <p>{content}</p>
                </div>
              </div>

              <div>
                <svg
                  width="41"
                  height="10"
                  viewBox="0 0 41 10"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M40.4666 5.0627C40.7016 4.82771 40.7016 4.44671 40.4666 4.21171L36.6371 0.382252C36.4022 0.147257 36.0212 0.147257 35.7862 0.382252C35.5512 0.617247 35.5512 0.998248 35.7862 1.23324L39.1901 4.63721L35.7862 8.04117C35.5512 8.27617 35.5512 8.65717 35.7862 8.89216C36.0212 9.12716 36.4022 9.12716 36.6371 8.89216L40.4666 5.0627ZM0.326172 5.23895H40.0411V4.03547H0.326172V5.23895Z" />
                </svg>
              </div>
            </a>
          </li>
        ))
      }
    </ul>
  </div>
</Wrapper>
